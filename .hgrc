[ui]
username = brianmurray
merge = vimmerge
ignore = ~/.hgignore

[color]
changeset.remaining = bold black

[merge-tools]
vimmerge.executable = diffconflicts
vimmerge.args = $base $local $other $output
vimmerge.premerge = keep

[merge-patterns]
**.ascii = internal:prompt

[revsetalias]
chain = only(.,public())
pendingchain = chain - obsolete()

[templatealias]
cl = '{tags % "{ifeq(sub("^(.\{3}).*", "\\1", tag), "cl/", sub("^cl/", "", tag))}"}'

[alias]
borrow = !cd `$HG root` && g4 pack -aN -c $1 | sed "/^\t/s/\t//p ; /^====.*====\$/,\$p ; d" | $HG import -e - -p0
cl = log --rev . --template '{cl}'
cls = log --rev pendingchain --template '{cl}\n'

# Finds the associated citc client for the current CL
citc_client = !p4 g4d $($HG cl)

lint = !export CL=$($HG cl) && cd $($HG citc_client) && g4 lint -c $CL "$@"
presubmit = !export CL=$($HG cl) && cd $($HG citc_client) && g4 presubmit -c $CL "$@"
tap = !export CL=$($HG cl) && cd $($HG citc_client) && tap_presubmit -c $CL "$@"

[extensions]
hgext.extdiff =

[extdiff]
cmd.vimdiff =

[alias]
vi  = vimdiff
vim = vimdiff

[trainingwheels]
pushdirty = false
